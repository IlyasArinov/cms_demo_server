(this.webpackJsonpcms_demo=this.webpackJsonpcms_demo||[]).push([[0],{20:function(t,e,n){t.exports=n(44)},44:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(6),i=n.n(c),s=n(19),r=n(3),l=n(5),u=n.n(l),d=function(t){return u.a.get("".concat("/api/pages","/").concat(t)).then((function(t){return t.data}))},p=function(t,e){return u.a.put("".concat("/api/pages","/").concat(t),e).then((function(t){return t.data}))};var h=function(t){var e=t.type,n=t.handleClick,o=t.text,c={background:"success"===e?"#4caf50":"aliceblue"};return a.a.createElement("button",{type:"button",style:c,onClick:n},o)},m=n(16);var f=function(t){var e=t.position,n=t.size,c=t.content,i=t.id,s=t.isNew,l=Object(o.useState)(n),u=Object(r.a)(l,2),d=u[0],p=u[1],h=Object(o.useState)(e),f=Object(r.a)(h,2),y=f[0],b=f[1];return a.a.createElement(m.a,{"data-is_new":s,"data-id":i,className:"CMSComponent",bounds:"body","data-x":y.x,"data-y":y.y,style:{background:"aliceblue",position:"absolute",border:"1px solid blue",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",top:0,left:0},position:y,size:d,onDragStop:function(t,e){b({x:e.x,y:e.y})},onResizeStop:function(t,e,n,o,a){p({width:n.style.width,height:n.style.height}),b(a)}},a.a.createElement("span",{className:"CMSComponentContent"},c))};var y=function(){var t=Object(o.useState)([]),e=Object(r.a)(t,2),n=e[0],c=e[1];return Object(o.useEffect)((function(){d(1).then((function(t){console.log(t),c(t.components)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"siteRoot",style:{width:"100%",minWidth:980,overflow:"hidden",minHeight:"100vh",position:"relative"}},a.a.createElement(h,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442",type:"normal",handleClick:function(){var t=function(t){return Math.floor(Math.random()*Math.floor(t))},e={position:{x:t(300),y:t(300)},size:{width:200,height:100},content:"\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442",isNew:!0,id:"tempId-".concat(n.length+1)};c([].concat(Object(s.a)(n),[e]))}}),a.a.createElement(h,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",type:"success",handleClick:function(){var t=document.querySelectorAll(".CMSComponent"),e={id:1,components:[]};t.forEach((function(t,n){var o={id:n+1,position:{x:t.dataset.x,y:t.dataset.y},size:{width:t.style.width,height:t.style.height},content:t.querySelector(".CMSComponentContent").innerHTML};e.components.push(o)})),p(1,e).then((function(t){c(t.components)})).catch((function(){console.log("somethingHappened")}))}}),n.map((function(t){return a.a.createElement(f,Object.assign({key:t.id},t))}))))};i.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.500539df.chunk.js.map